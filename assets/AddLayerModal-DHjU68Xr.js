import{r as i,g as rt,a as nt,s as G,B as Tt,c as Q,m as lt,u as st,b as F,j as o,d as at,e as fe,o as Xt,f as Yt,h as qt,K as be,i as he,k as bt,l as ge,n as vt,p as xe,q as _,t as me,v as ye,w as it,x as ht,M as Jt,y as I,I as Bt,C as ve,T as V,z as Nt,A as wt,L as Ce,D as Se,E as Be,F as we,G as jt,H as je,J as Te,S as Me,P as Le,N as Ie,O as Re,Q as $e,R as Ft}from"./index-y2KSLYCw.js";import{S as ke,E as Ee}from"./Edit-T_PCBhXt.js";function Ae(t){return i.Children.toArray(t).filter(e=>i.isValidElement(e))}function De(t){return nt("MuiTab",t)}const D=rt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),ze=t=>{const{classes:e,textColor:r,fullWidth:n,wrapped:s,icon:l,label:f,selected:u,disabled:d}=t,b={root:["root",l&&f&&"labelIcon",`textColor${Q(r)}`,n&&"fullWidth",s&&"wrapped",u&&"selected",d&&"disabled"],icon:["iconWrapper","icon"]};return at(b,De,e)},Pe=G(Tt,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.label&&r.icon&&e.labelIcon,e[`textColor${Q(r.textColor)}`],r.fullWidth&&e.fullWidth,r.wrapped&&e.wrapped,{[`& .${D.iconWrapper}`]:e.iconWrapper},{[`& .${D.icon}`]:e.icon}]}})(lt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="top",style:{[`& > .${D.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="bottom",style:{[`& > .${D.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="start",style:{[`& > .${D.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:r})=>e.icon&&e.label&&r==="end",style:{[`& > .${D.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${D.selected}`]:{opacity:1},[`&.${D.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${D.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${D.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${D.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${D.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),Ht=i.forwardRef(function(e,r){const n=st({props:e,name:"MuiTab"}),{className:s,disabled:l=!1,disableFocusRipple:f=!1,fullWidth:u,icon:d,iconPosition:b="top",indicator:p,label:x,onChange:g,onClick:h,onFocus:T,selected:M,selectionFollowsFocus:C,textColor:k="inherit",value:L,wrapped:z=!1,...R}=n,P={...n,disabled:l,disableFocusRipple:f,selected:M,icon:!!d,iconPosition:b,label:!!x,fullWidth:u,textColor:k,wrapped:z},E=ze(P),j=d&&x&&i.isValidElement(d)?i.cloneElement(d,{className:F(E.icon,d.props.className)}):d,B=S=>{!M&&g&&g(S,L),h&&h(S)},$=S=>{C&&!M&&g&&g(S,L),T&&T(S)};return o.jsxs(Pe,{focusRipple:!f,className:F(E.root,s),ref:r,role:"tab","aria-selected":M,disabled:l,onClick:B,onFocus:$,ownerState:P,tabIndex:M?0:-1,...R,children:[b==="top"||b==="start"?o.jsxs(i.Fragment,{children:[j,x]}):o.jsxs(i.Fragment,{children:[x,j]}),p]})});function Oe(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function We(t,e,r,n={},s=()=>{}){const{ease:l=Oe,duration:f=300}=n;let u=null;const d=e[t];let b=!1;const p=()=>{b=!0},x=g=>{if(b){s(new Error("Animation cancelled"));return}u===null&&(u=g);const h=Math.min(1,(g-u)/f);if(e[t]=l(h)*(r-d)+d,h>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(x)};return d===r?(s(new Error("Element already at target position")),p):(requestAnimationFrame(x),p)}const Ne={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Fe(t){const{onChange:e,...r}=t,n=i.useRef(),s=i.useRef(null),l=()=>{n.current=s.current.offsetHeight-s.current.clientHeight};return fe(()=>{const f=Yt(()=>{const d=n.current;l(),d!==n.current&&e(n.current)}),u=Xt(s.current);return u.addEventListener("resize",f),()=>{f.clear(),u.removeEventListener("resize",f)}},[e]),i.useEffect(()=>{l(),e(n.current)},[e]),o.jsx("div",{style:Ne,ref:s,...r})}function He(t){return nt("MuiTabScrollButton",t)}const Ge=rt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Ue=t=>{const{classes:e,orientation:r,disabled:n}=t;return at({root:["root",r,n&&"disabled"]},He,e)},Ve=G(Tt,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.orientation&&e[r.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Ge.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Xe=i.forwardRef(function(e,r){const n=st({props:e,name:"MuiTabScrollButton"}),{className:s,slots:l={},slotProps:f={},direction:u,orientation:d,disabled:b,...p}=n,x=qt(),g={isRtl:x,...n},h=Ue(g),T=l.StartScrollButtonIcon??be,M=l.EndScrollButtonIcon??he,C=bt({elementType:T,externalSlotProps:f.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),k=bt({elementType:M,externalSlotProps:f.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return o.jsx(Ve,{component:"div",className:F(h.root,s),ref:r,role:null,ownerState:g,tabIndex:null,...p,style:{...p.style,...d==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${x?-90:90}deg)`}},children:u==="left"?o.jsx(T,{...C}):o.jsx(M,{...k})})});function Ye(t){return nt("MuiTabs",t)}const Ct=rt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Gt=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,Ut=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,ft=(t,e,r)=>{let n=!1,s=r(t,e);for(;s;){if(s===t.firstChild){if(n)return;n=!0}const l=s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||l)s=r(t,s);else{s.focus();return}}},qe=t=>{const{vertical:e,fixed:r,hideScrollbar:n,scrollableX:s,scrollableY:l,centered:f,scrollButtonsHideMobile:u,classes:d}=t;return at({root:["root",e&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",s&&"scrollableX",l&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",f&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",u&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},Ye,d)},Je=G("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Ct.scrollButtons}`]:e.scrollButtons},{[`& .${Ct.scrollButtons}`]:r.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,r.vertical&&e.vertical]}})(lt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${Ct.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),_e=G("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.scroller,r.fixed&&e.fixed,r.hideScrollbar&&e.hideScrollbar,r.scrollableX&&e.scrollableX,r.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Ke=G("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.flexContainer,r.vertical&&e.flexContainerVertical,r.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),Qe=G("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(lt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),Ze=G(Fe)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Vt={},to=i.forwardRef(function(e,r){const n=st({props:e,name:"MuiTabs"}),s=ge(),l=qt(),{"aria-label":f,"aria-labelledby":u,action:d,centered:b=!1,children:p,className:x,component:g="div",allowScrollButtonsMobile:h=!1,indicatorColor:T="primary",onChange:M,orientation:C="horizontal",ScrollButtonComponent:k=Xe,scrollButtons:L="auto",selectionFollowsFocus:z,slots:R={},slotProps:P={},TabIndicatorProps:E={},TabScrollButtonProps:j={},textColor:B="primary",value:$,variant:S="standard",visibleScrollbar:A=!1,...Zt}=n,W=S==="scrollable",O=C==="vertical",Z=O?"scrollTop":"scrollLeft",ct=O?"top":"left",dt=O?"bottom":"right",gt=O?"clientHeight":"clientWidth",tt=O?"height":"width",X={...n,component:g,allowScrollButtonsMobile:h,indicatorColor:T,orientation:C,vertical:O,scrollButtons:L,textColor:B,variant:S,visibleScrollbar:A,fixed:!W,hideScrollbar:W&&!A,scrollableX:W&&!O,scrollableY:W&&O,centered:b&&!W,scrollButtonsHideMobile:!h},U=qe(X),te=bt({elementType:R.StartScrollButtonIcon,externalSlotProps:P.startScrollButtonIcon,ownerState:X}),ee=bt({elementType:R.EndScrollButtonIcon,externalSlotProps:P.endScrollButtonIcon,ownerState:X}),[Mt,oe]=i.useState(!1),[Y,Lt]=i.useState(Vt),[It,re]=i.useState(!1),[Rt,ne]=i.useState(!1),[$t,le]=i.useState(!1),[kt,se]=i.useState({overflow:"hidden",scrollbarWidth:0}),Et=new Map,H=i.useRef(null),q=i.useRef(null),At=()=>{const a=H.current;let c;if(a){const m=a.getBoundingClientRect();c={clientWidth:a.clientWidth,scrollLeft:a.scrollLeft,scrollTop:a.scrollTop,scrollWidth:a.scrollWidth,top:m.top,bottom:m.bottom,left:m.left,right:m.right}}let y;if(a&&$!==!1){const m=q.current.children;if(m.length>0){const w=m[Et.get($)];y=w?w.getBoundingClientRect():null}}return{tabsMeta:c,tabMeta:y}},et=vt(()=>{const{tabsMeta:a,tabMeta:c}=At();let y=0,m;O?(m="top",c&&a&&(y=c.top-a.top+a.scrollTop)):(m=l?"right":"left",c&&a&&(y=(l?-1:1)*(c[m]-a[m]+a.scrollLeft)));const w={[m]:y,[tt]:c?c[tt]:0};if(typeof Y[m]!="number"||typeof Y[tt]!="number")Lt(w);else{const N=Math.abs(Y[m]-w[m]),J=Math.abs(Y[tt]-w[tt]);(N>=1||J>=1)&&Lt(w)}}),xt=(a,{animation:c=!0}={})=>{c?We(Z,H.current,a,{duration:s.transitions.duration.standard}):H.current[Z]=a},Dt=a=>{let c=H.current[Z];O?c+=a:c+=a*(l?-1:1),xt(c)},zt=()=>{const a=H.current[gt];let c=0;const y=Array.from(q.current.children);for(let m=0;m<y.length;m+=1){const w=y[m];if(c+w[gt]>a){m===0&&(c=a);break}c+=w[gt]}return c},ae=()=>{Dt(-1*zt())},ie=()=>{Dt(zt())},ce=i.useCallback(a=>{se({overflow:null,scrollbarWidth:a})},[]),de=()=>{const a={};a.scrollbarSizeListener=W?o.jsx(Ze,{onChange:ce,className:F(U.scrollableX,U.hideScrollbar)}):null;const y=W&&(L==="auto"&&(It||Rt)||L===!0);return a.scrollButtonStart=y?o.jsx(k,{slots:{StartScrollButtonIcon:R.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:te},orientation:C,direction:l?"right":"left",onClick:ae,disabled:!It,...j,className:F(U.scrollButtons,j.className)}):null,a.scrollButtonEnd=y?o.jsx(k,{slots:{EndScrollButtonIcon:R.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:ee},orientation:C,direction:l?"left":"right",onClick:ie,disabled:!Rt,...j,className:F(U.scrollButtons,j.className)}):null,a},Pt=vt(a=>{const{tabsMeta:c,tabMeta:y}=At();if(!(!y||!c)){if(y[ct]<c[ct]){const m=c[Z]+(y[ct]-c[ct]);xt(m,{animation:a})}else if(y[dt]>c[dt]){const m=c[Z]+(y[dt]-c[dt]);xt(m,{animation:a})}}}),ut=vt(()=>{W&&L!==!1&&le(!$t)});i.useEffect(()=>{const a=Yt(()=>{H.current&&et()});let c;const y=N=>{N.forEach(J=>{J.removedNodes.forEach(ot=>{c==null||c.unobserve(ot)}),J.addedNodes.forEach(ot=>{c==null||c.observe(ot)})}),a(),ut()},m=Xt(H.current);m.addEventListener("resize",a);let w;return typeof ResizeObserver<"u"&&(c=new ResizeObserver(a),Array.from(q.current.children).forEach(N=>{c.observe(N)})),typeof MutationObserver<"u"&&(w=new MutationObserver(y),w.observe(q.current,{childList:!0})),()=>{a.clear(),m.removeEventListener("resize",a),w==null||w.disconnect(),c==null||c.disconnect()}},[et,ut]),i.useEffect(()=>{const a=Array.from(q.current.children),c=a.length;if(typeof IntersectionObserver<"u"&&c>0&&W&&L!==!1){const y=a[0],m=a[c-1],w={root:H.current,threshold:.99},N=yt=>{re(!yt[0].isIntersecting)},J=new IntersectionObserver(N,w);J.observe(y);const ot=yt=>{ne(!yt[0].isIntersecting)},Wt=new IntersectionObserver(ot,w);return Wt.observe(m),()=>{J.disconnect(),Wt.disconnect()}}},[W,L,$t,p==null?void 0:p.length]),i.useEffect(()=>{oe(!0)},[]),i.useEffect(()=>{et()}),i.useEffect(()=>{Pt(Vt!==Y)},[Pt,Y]),i.useImperativeHandle(d,()=>({updateIndicator:et,updateScrollButtons:ut}),[et,ut]);const Ot=o.jsx(Qe,{...E,className:F(U.indicator,E.className),ownerState:X,style:{...Y,...E.style}});let pt=0;const ue=i.Children.map(p,a=>{if(!i.isValidElement(a))return null;const c=a.props.value===void 0?pt:a.props.value;Et.set(c,pt);const y=c===$;return pt+=1,i.cloneElement(a,{fullWidth:S==="fullWidth",indicator:y&&!Mt&&Ot,selected:y,selectionFollowsFocus:z,onChange:M,textColor:B,value:c,...pt===1&&$===!1&&!a.props.tabIndex?{tabIndex:0}:{}})}),pe=a=>{const c=q.current,y=xe(c).activeElement;if(y.getAttribute("role")!=="tab")return;let w=C==="horizontal"?"ArrowLeft":"ArrowUp",N=C==="horizontal"?"ArrowRight":"ArrowDown";switch(C==="horizontal"&&l&&(w="ArrowRight",N="ArrowLeft"),a.key){case w:a.preventDefault(),ft(c,y,Ut);break;case N:a.preventDefault(),ft(c,y,Gt);break;case"Home":a.preventDefault(),ft(c,null,Gt);break;case"End":a.preventDefault(),ft(c,null,Ut);break}},mt=de();return o.jsxs(Je,{className:F(U.root,x),ownerState:X,ref:r,as:g,...Zt,children:[mt.scrollButtonStart,mt.scrollbarSizeListener,o.jsxs(_e,{className:U.scroller,ownerState:X,style:{overflow:kt.overflow,[O?`margin${l?"Left":"Right"}`:"marginBottom"]:A?void 0:-kt.scrollbarWidth},ref:H,children:[o.jsx(Ke,{"aria-label":f,"aria-labelledby":u,"aria-orientation":C==="vertical"?"vertical":null,className:U.flexContainer,ownerState:X,onKeyDown:pe,ref:q,role:"tablist",children:ue}),Mt&&Ot]}),mt.scrollButtonEnd]})});function eo(t){return nt("MuiToggleButton",t)}const K=rt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),_t=i.createContext({}),Kt=i.createContext(void 0);function oo(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.includes(t):t===e}const ro=t=>{const{classes:e,fullWidth:r,selected:n,disabled:s,size:l,color:f}=t,u={root:["root",n&&"selected",s&&"disabled",r&&"fullWidth",`size${Q(l)}`,f]};return at(u,eo,e)},no=G(Tt,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`size${Q(r.size)}`]]}})(lt(({theme:t})=>({...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${K.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:_(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${K.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:_(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:_(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:_(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(me()).map(([e])=>({props:{color:e},style:{[`&.${K.selected}`]:{color:(t.vars||t).palette[e].main,backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_(t.palette[e].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:_(t.palette[e].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:_(t.palette[e].main,t.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}))),St=i.forwardRef(function(e,r){const{value:n,...s}=i.useContext(_t),l=i.useContext(Kt),f=ye({...s,selected:oo(e.value,n)},e),u=st({props:f,name:"MuiToggleButton"}),{children:d,className:b,color:p="standard",disabled:x=!1,disableFocusRipple:g=!1,fullWidth:h=!1,onChange:T,onClick:M,selected:C,size:k="medium",value:L,...z}=u,R={...u,color:p,disabled:x,disableFocusRipple:g,fullWidth:h,size:k},P=ro(R),E=B=>{M&&(M(B,L),B.defaultPrevented)||T&&T(B,L)},j=l||"";return o.jsx(no,{className:F(s.className,P.root,b,j),disabled:x,focusRipple:!g,ref:r,onClick:E,onChange:T,value:L,ownerState:R,"aria-pressed":C,...z,children:d})});function lo(t){return nt("MuiToggleButtonGroup",t)}const v=rt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),so=t=>{const{classes:e,orientation:r,fullWidth:n,disabled:s}=t,l={root:["root",r,n&&"fullWidth"],grouped:["grouped",`grouped${Q(r)}`,s&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return at(l,lo,e)},ao=G("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${v.grouped}`]:e.grouped},{[`& .${v.grouped}`]:e[`grouped${Q(r.orientation)}`]},{[`& .${v.firstButton}`]:e.firstButton},{[`& .${v.lastButton}`]:e.lastButton},{[`& .${v.middleButton}`]:e.middleButton},e.root,r.orientation==="vertical"&&e.vertical,r.fullWidth&&e.fullWidth]}})(lt(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${v.grouped}`]:{[`&.${v.selected} + .${v.grouped}.${v.selected}`]:{borderTop:0,marginTop:0}},[`& .${v.firstButton},& .${v.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${v.lastButton},& .${v.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${v.lastButton}.${K.disabled},& .${v.middleButton}.${K.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${v.grouped}`]:{[`&.${v.selected} + .${v.grouped}.${v.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${v.firstButton},& .${v.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${v.lastButton},& .${v.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${v.lastButton}.${K.disabled},& .${v.middleButton}.${K.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),io=i.forwardRef(function(e,r){const n=st({props:e,name:"MuiToggleButtonGroup"}),{children:s,className:l,color:f="standard",disabled:u=!1,exclusive:d=!1,fullWidth:b=!1,onChange:p,orientation:x="horizontal",size:g="medium",value:h,...T}=n,M={...n,disabled:u,fullWidth:b,orientation:x,size:g},C=so(M),k=i.useCallback((j,B)=>{if(!p)return;const $=h&&h.indexOf(B);let S;h&&$>=0?(S=h.slice(),S.splice($,1)):S=h?h.concat(B):[B],p(j,S)},[p,h]),L=i.useCallback((j,B)=>{p&&p(j,h===B?null:B)},[p,h]),z=i.useMemo(()=>({className:C.grouped,onChange:d?L:k,value:h,size:g,fullWidth:b,color:f,disabled:u}),[C.grouped,d,L,k,h,g,b,f,u]),R=Ae(s),P=R.length,E=j=>{const B=j===0,$=j===P-1;return B&&$?"":B?C.firstButton:$?C.lastButton:C.middleButton};return o.jsx(ao,{role:"group",className:F(C.root,l),ref:r,ownerState:M,...T,children:o.jsx(_t.Provider,{value:z,children:R.map((j,B)=>o.jsx(Kt.Provider,{value:E(B),children:j},B))})})}),co=it(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle"),uo=it(o.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Create"),Qt=it(o.jsx("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload"),po=it(o.jsx("path",{d:"m2 9 4 12h12l4-12-10-7z"}),"Pentagon"),fo=it(o.jsx("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6z"}),"Polyline"),bo=({open:t,onClose:e,layerId:r})=>{const{tempLayers:n,updateTempLayerName:s,updateTempLayerColor:l}=ht(),[f,u]=i.useState(""),[d,b]=i.useState(""),[p,x]=i.useState(1);i.useEffect(()=>{const h=n.find(T=>T.id===r);h&&(u(h.name),b(h.color),x(h.opacity))},[r,n]);const g=()=>{s(r,f),l(r,d),e()};return o.jsx(Jt,{open:t,onClose:e,children:o.jsxs(I,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"#555555",color:"#ffffff",boxShadow:24,p:4,borderRadius:"8px",width:400,paddingTop:3},children:[o.jsx(Bt,{onClick:e,sx:{position:"absolute",top:10,right:10,color:"#ffffff"},children:o.jsx(ve,{})}),o.jsx(V,{variant:"h6",sx:{mb:3},children:"Edit Temp Layer"}),o.jsx(Nt,{fullWidth:!0,label:"Layer Name",variant:"standard",value:f,onChange:h=>u(h.target.value),sx:{mb:3,"& .MuiInput-root":{color:"#ffffff",backgroundColor:"#555555","&:before":{borderBottomColor:"#ffffff"},"&:hover:not(.Mui-disabled):before":{borderBottomColor:"#A8D99C"},"&:after":{borderBottomColor:"#A8D99C"}},"& .MuiInputLabel-root":{color:"#A8D99C"},"& .MuiInputLabel-root.Mui-focused":{color:"#A8D99C"}}}),o.jsxs(I,{sx:{display:"flex",alignItems:"center"},children:[o.jsx(Nt,{label:"Layer Color",variant:"standard",type:"color",value:d,onChange:h=>b(h.target.value),sx:{mt:2,flex:1,"& .MuiInput-root":{backgroundColor:"#555555",borderBottom:"none","&:before":{borderBottomColor:"transparent"},"&:hover:not(.Mui-disabled):before":{borderBottomColor:"transparent"},"&:after":{borderBottomColor:"transparent"},"& input[type='color']":{padding:0,width:"66px",height:"50px",border:"none",cursor:"pointer"}},"& .MuiInputLabel-root":{color:"#A8D99C"},"& .MuiInputLabel-root.Mui-focused":{color:"#A8D99C"}}}),o.jsxs(I,{sx:{flex:2},children:[o.jsxs(V,{gutterBottom:!0,sx:{color:"#A8D99C",fontSize:"12px"},children:["Opacity: ",p.toFixed(2)]}),o.jsx(I,{sx:{backgroundColor:"#555555",borderRadius:"4px","& .MuiSlider-root":{color:"#ECAC7A"},"& .MuiSlider-thumb":{backgroundColor:"#ECAC7A",borderRadius:"50%",height:16,width:16,"&:hover":{boxShadow:"0 0 0 5px rgba(168, 217, 156, 0.4)"}},"& .MuiSlider-track":{height:4,border:"none"},"& .MuiSlider-rail":{height:4,borderRadius:"4px",backgroundColor:"#ECAC7A"}},children:o.jsx(ke,{value:p,min:0,max:1,step:.01,onChange:(h,T)=>x(T)})})]})]}),o.jsxs(I,{mt:4,display:"flex",justifyContent:"flex-end",children:[o.jsx(wt,{variant:"outlined",onClick:e,sx:{borderColor:"#ECAC7A",color:"#ECAC7A",mr:2,"&:hover":{backgroundColor:"rgba(236, 172, 122, 0.1)",borderColor:"#E59548"}},children:"Cancel"}),o.jsx(wt,{variant:"contained",onClick:g,sx:{backgroundColor:"#A8D99C",color:"#000","&:hover":{backgroundColor:"#89C287"}},children:"Save Changes"})]})]})})},ho=({layer:t,deleteLayer:e,selected:r})=>{const[n,s]=i.useState(!1);return o.jsxs(I,{children:[o.jsxs(Ce,{selected:r,sx:{padding:1},children:[o.jsxs(I,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"30px",height:"30px"},children:[o.jsx(Se,{layerId:t.id,size:24,isTempLayers:!0})," "]}),o.jsx(Be,{primary:t.name,sx:{pl:"2px"}}),o.jsx(Bt,{onClick:()=>s(!0),"aria-label":"Edit layer",children:o.jsx(Ee,{sx:{fontSize:18,color:"white","&:hover":{color:"#A8D99C"}}})}),o.jsx(Bt,{onClick:l=>{l.stopPropagation(),e(t.id)},"aria-label":"Delete",children:o.jsx(we,{sx:{fontSize:18,color:"white","&:hover":{color:"#ECAC7A"}}})})]},t.id),o.jsx(bo,{open:n,onClose:()=>s(!1),layerId:t.id})]})},go=()=>{const{tempLayers:t,removeLayer:e,updateTempLayerName:r,updateTempLayerColor:n}=ht();return o.jsx(I,{sx:{maxHeight:"300px",overflowY:"auto",borderRadius:"8px",p:2},children:t.length===0?o.jsx(V,{variant:"body2",sx:{color:"#A8D99C"},children:"No layers added yet."}):t.map(s=>o.jsx(ho,{layer:s,index:t.indexOf(s),deleteLayer:e,updateTempLayerColor:r,updateTempLayerName:n,selected:!1},s.id))})},xo=({onFilesUploaded:t})=>{const{addTempLayer:e}=ht(),[r,n]=i.useState(!1),s=async d=>{const b=Array.from(d.target.files||[]);for(const p of b){const x=await p.text(),g=JSON.parse(x);e(g,p.name.split(".")[0],jt())}t()},l=d=>{d.preventDefault(),n(!0)},f=()=>{n(!1)},u=async d=>{d.preventDefault(),n(!1);const b=Array.from(d.dataTransfer.files);for(const p of b){const x=await p.text(),g=JSON.parse(x);e(g,p.name.split(".")[0],jt())}t()};return o.jsx(I,{children:o.jsxs(I,{onDragOver:l,onDragLeave:f,onDrop:u,sx:{border:"2px dashed",borderColor:r?"#ECAC7A":"#A8D99C",backgroundColor:r?"#666666":"#555555",borderRadius:"8px",p:2,textAlign:"center",mb:1,mt:1},children:[o.jsx(Qt,{sx:{fontSize:40,mb:1}}),o.jsx(V,{children:"Drag and drop GeoJSON/JSON file(s) here"}),o.jsx(V,{children:"or"}),o.jsxs(wt,{id:"file-upload",component:"label",variant:"contained",sx:{mt:1,backgroundColor:"#A8D99C",color:"#000","&:hover":{backgroundColor:"#89C287"}},children:["Browse Files",o.jsx("input",{type:"file",accept:".json, .geojson",onChange:s,multiple:!0,style:{display:"none"}})]})]})})},mo=({onLayerCreate:t,layerName:e,setLayerName:r,geometryType:n,setGeometryType:s})=>{const[l,f]=i.useState(!1),[u,d]=i.useState("");return i.useEffect(()=>{!l&&n&&r(`drawn_${n.toLowerCase()}`)},[n,l,r]),console.log(()=>{if(!e.trim()){d("Layer name is required.");return}if(!n){d("Geometry type is required.");return}d(""),t(e,n)}),o.jsxs(I,{children:[o.jsx(V,{sx:{color:"#A8D99C",fontSize:"0.8rem",mb:1},children:"Select Geometry Type"}),o.jsxs(io,{id:"geometry-type",exclusive:!0,value:n,onChange:(p,x)=>x&&s(x),sx:{mt:1,mb:3,display:"flex","& .MuiToggleButton-root":{bgcolor:"#555555",color:"#ffffff",borderColor:"#A8D99C","&.Mui-selected":{bgcolor:"#A8D99C",color:"#000"},"&.Mui-selected:hover":{bgcolor:"#89C287"},"&:hover":{bgcolor:"#666666"}}},children:[o.jsxs(St,{value:"Point",children:[o.jsx(co,{sx:{mr:1,width:"0.7rem"}}),"Point"]}),o.jsxs(St,{value:"LineString",children:[o.jsx(fo,{sx:{mr:1,width:"1.2rem"}}),"Line"]}),o.jsxs(St,{value:"Polygon",children:[o.jsx(po,{sx:{mr:1,width:"1.2rem"}}),"Polygon"]})]}),o.jsx(I,{sx:{mb:1},children:o.jsx(V,{mx:{fontSize:"0.7rem",color:"#ECAC7A",mb:2},children:"Must provide layer name to start drawing"})}),o.jsx(je,{id:"layer-name",label:"Layer Name",value:e,onChange:p=>{r(p.target.value),f(!0)},error:!!u,helperText:u,InputLabelProps:{shrink:!0}})]})},yo=({open:t,onClose:e,drawingMode:r,onDrawingFinish:n,onConfirm:s})=>{const[l,f]=i.useState({type:"FeatureCollection",features:[]}),u=x=>{f(g=>({type:"FeatureCollection",features:[...g.features,...x.features]})),n(l)},d=()=>{l.features.length>0&&(s(l),f({type:"FeatureCollection",features:[]})),e()},b=()=>{f({type:"FeatureCollection",features:[]}),e()},p=l.features.length===0;return o.jsx(Jt,{open:t,onClose:b,children:o.jsxs(I,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80vw",height:"80vh",bgcolor:"background.paper",boxShadow:24,borderRadius:2,overflow:"hidden"},children:[o.jsx(Te,{drawingMode:r,onDrawingFinish:u,style:{height:"100%",width:"100%"}}),o.jsxs(I,{sx:{position:"absolute",top:16,left:"50%",transform:"translateX(-50%)",display:"flex",gap:1},children:[o.jsx(Me,{onClose:b}),o.jsx(Le,{label:"Add layer",handleSubmit:d,disabled:p})]})]})})},vo="/YouGIS/assets/drawn_polygon-Crn3RPq6.png",Bo=({open:t,onClose:e})=>{const{addLayer:r}=Ie(),{tempLayers:n,clearTempLayers:s}=ht(),[l,f]=i.useState(0),[u,d]=i.useState(null),[b,p]=i.useState(""),[x,g]=i.useState(!1),[h,T]=i.useState(null),[M,C]=i.useState(!1),k=(S,A)=>{f(A)},L=()=>{},z=(S,A)=>{S.trim()&&A&&(p(S),d(A),g(!0))},R=S=>{T(S),console.log(h)},P=()=>{T(null)},E=S=>{r(S,jt(),b||`custom_${u}`,!0),g(!1),Ft("Layer added successfully!",{variant:"success"}),d(null),p(""),e()},j=()=>{n.forEach(A=>{r(A.data,A.color,A.name)}),s();const S=n.length;Ft(`${S} layer(s) uploaded successfully!`,{variant:"success",autoHideDuration:2500}),e()},B=()=>C(!0),$=l===0?[{target:"#file-upload",content:"Click here to upload the downloaded geojson-files.",disableBeacon:!0,spotlightClicks:!0,placement:"bottom"},{target:"#submit-upload-button",content:"Click here to submit the uploaded layers.",disableBeacon:!0,spotlightClicks:!0,placement:"bottom"}]:[{target:"#geometry-type",content:"Select 'Polygon' as geometry type.",disableBeacon:!0,spotlightClicks:!0,placement:"bottom"},{target:"#layer-name",content:"Name the new layer 'polygon_område'.",disableBeacon:!0,spotlightClicks:!0,placement:"bottom"},{target:"#start-drawing-button",content:o.jsxs("div",{children:[o.jsx("p",{children:"Click to start drawing the layer on the map."}),o.jsx("p",{children:o.jsx("span",{style:{fontWeight:"lighter",fontSize:"0.8rem"},children:"When clicking the button, a new map opens. You can zoom and pan the map as normal. When clicking the map, the drawing starts, and you click for the different corners of the polygon. When done, double-click/right-click to finish the drawing."})}),o.jsx("p",{children:o.jsxs("span",{style:{fontWeight:"lighter",fontSize:"0.8rem"},children:["If you make a mistake, click cancel, and thereafter start the drawing again. When finished, click"," ",o.jsx("span",{style:{fontWeight:"bold"},children:"Add Layer"}),"."]})}),o.jsx("p",{children:"In the image below you see an example of how to draw the suitable polygon over the best location for the nature hut."}),o.jsx("div",{children:o.jsx("img",{src:vo,style:{width:"300px",height:"auto"}})})]}),disableBeacon:!0,spotlightClicks:!0,placement:"bottom"}];return o.jsxs(o.Fragment,{children:[o.jsxs(Re,{open:t,onClose:e,header:"Add new layer(s) to the map",submitLabel:l===0?"Submit":"Start Drawing",onSubmit:l===0?j:()=>z(b,u),disableSubmit:l===0?n.length===0&&!u:!b.trim()||!u,tutorialHelp:!0,openTutorial:B,submitButtonProps:{id:l===0?"submit-upload-button":"start-drawing-button",label:l===0?"Submit":"Start Drawing",handleSubmit:l===0?j:()=>z(b,u),disabled:l===0?n.length===0:!b.trim()||!u},children:[o.jsxs(to,{value:l,onChange:k,textColor:"inherit",indicatorColor:"primary","aria-label":"add layer tabs",sx:{marginBottom:2,"& .MuiTab-root":{color:"#ffffff"},"& .MuiTabs-indicator":{backgroundColor:"#ECAC7A"}},children:[o.jsx(Ht,{icon:o.jsx(Qt,{}),iconPosition:"end",label:"Upload Layer"}),o.jsx(Ht,{icon:o.jsx(uo,{}),iconPosition:"end",label:"Create Layer"})]}),l===0&&o.jsx(xo,{onFilesUploaded:L}),l===1&&o.jsx(mo,{onLayerCreate:z,layerName:b,setLayerName:p,geometryType:u,setGeometryType:d}),n.length>0&&o.jsx(I,{sx:{ml:2,mb:0,mt:1},children:o.jsx(V,{variant:"body2",sx:{mt:2},children:"Add the following layers to the map:"})}),n.length>0&&o.jsx(I,{sx:{flexGrow:1,overflowY:"scroll",maxHeight:"40vh",mt:0},children:o.jsx(go,{})})]}),o.jsx(yo,{open:x,onClose:()=>g(!1),drawingMode:u,onDrawingFinish:R,onClear:P,onConfirm:E}),o.jsx($e,{steps:$,run:t&&M,onClose:()=>C(!1)})]})};export{Bo as default};
